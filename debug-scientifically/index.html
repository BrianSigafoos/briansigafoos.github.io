<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><title>Debug scientifically - Brian Sigafoos</title><link rel=stylesheet href="/css/main.min.36f0931af260e3bf93da27c4eafc4fb654b04306822a772442a8b4241cd5eaad.css" integrity="sha256-NvCTGvJg47+T2ifE6vxPtlSwQwaCKnckQqi0JBzV6q0="><script src=/main.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-42740116-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<link rel="shortcut icon" href=/favicon.png?20190809><link rel=apple-touch-icon href=/apple-touch-icon.png?20190809></head><body data-controller=color-scheme class="text-color bg-bright antialiased leading-normal"><div class="border-b border-gray py-4 w-full"><div class="container max-w-4xl"><div class="flex items-center justify-between font-mono"><a href=https://briansigafoos.com/ class="text-primary font-extrabold">Brian Sigafoos</a><div class="flex items-center"><a href=/about class="text-color font-extrabold block">About me</a><div class="flex ml-4"><button type=button data-action=color-scheme#toggleScheme aria-label="Toggle dark mode" title="Toggle dark mode" class="py-1 px-2 cursor-pointer text-color"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg></button>
<button type=button data-action=color-scheme#toggleColor aria-label="Change primary color" title="Change primary color" class="py-1 px-2 cursor-pointer text-primary"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828.0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/></svg></button></div></div></div></div></div><div class="container my-12 md:my-16 !max-w-4xl prose md:prose-lg lg:prose-xl prose-custom"><h1>Debug scientifically</h1><p class="mt-4 text-lg md:text-xl lg:text-2xl text-muted">Try a more &ldquo;scientific&rdquo; process to solving bugs and reducing Mean Time to Recovery (MTTR)</p><div class="font-mono text-sm mt-3 space-x-4"><span class=text-muted>Aug 27, 2022</span>
<span class=text-muted>4 min read</span></div><div class="border-t border-gray my-8 pt-4"><h2 id=bugs-are-inevitable>Bugs are inevitable</h2><p>Working as a software engineer, we <a href=/problems>solve problems</a> for our customers and stakeholders. Part of solving problems means new problems will arise. That&rsquo;s good. The alternative is to never make progress: to never deliver new code to production. Some of the new problems will inevitably be bugs. We write automated tests to prevent bugs. We also write tests whenever a new bug is found, to prevent any regressions.</p><h2 id=mean-time-to-recovery-mttr>Mean Time to Recovery (MTTR)</h2><p>The highest performance teams I&rsquo;ve worked with have a bias towards action and progress. This means continuously deploying their code from <code>main</code> branch, aka &ldquo;trunk based development&rdquo;. They accept that there will occasionally be bugs. More important than not having any bugs is how fast bugs can be resolved, also known as Mean Time to Recovery (MTTR).</p><h2 id=a-scientific-process-to-debug-faster>A &ldquo;scientific&rdquo; process to debug faster</h2><ul><li>Gather information</li><li>Write down your hypothesis</li><li>Ask, how do I disprove this hypothesis?</li><li>Test it to disprove it, and eliminate that hypothesis</li><li>Rinse and repeat to make progress towards understanding the root cause</li></ul><h3 id=gather-information>Gather information</h3><p>Goal: understand the size and scope of the bug as quickly as possible</p><ul><li>Who is it impacting?<ul><li>Is it a special case for certain customers/roles? Or for all roles?</li></ul></li><li>Can you reproduce it?<ul><li>On production? Staging? Locally?</li><li>The easiest bugs to fix are ones that you can reproduce locally.</li></ul></li><li>Ask &ldquo;what changed?&rdquo;<ul><li>Was there a recent deploy or code change that could be the culprit?</li></ul></li><li>Are there any relevant details in your error reporting tools or logs?</li></ul><h3 id=write-down-your-hypothesis>Write down your hypothesis</h3><p>For local development bugs, still write down your hypothesis in a scratchpad or note. Because you&rsquo;ll repeat this process a few times it provides a good list of what you&rsquo;ve tested already and eliminated as the root cause.</p><p>For production bugs, communication is key. Start or join a new thread to discuss only this bug. To start you can communicate something like: &ldquo;I&rsquo;m looking into this bug now&rdquo;.</p><p>Then, for every hypothesis, post it to the thread.</p><h3 id=ask-how-can-i-disprove-this-hypothesis>Ask how can I disprove this hypothesis?</h3><p>We don&rsquo;t want to solve the wrong problem so it&rsquo;s essential to think of a way to disprove the hypothesis. Is there an action or a change you can make that will disprove (&ldquo;falsify&rdquo;) your hypothesis?</p><p>Think of it as: &ldquo;If I do action X, I expect to see Y&rdquo;. X could be a code or config change and Y could be the bug disappearing or some related information changing.</p><h3 id=test-it-to-disprove-it-and-eliminate-that-hypothesis>Test it to disprove it, and eliminate that hypothesis</h3><p>Do the test and write down the results.</p><p>Every single negative result is still valuable as you get closer and closer to identifying and fixing the root cause.</p><p>For production bugs, good communication means posting both the results of all tests to the thread.</p><h3 id=rinse-and-repeat-to-make-progress>Rinse and repeat to make progress</h3><p>If the test disproved your hypothesis, then just start the process again. You now have more information. Use that information, or gather even more, to help generate a new hypothesis.</p><p>It&rsquo;s good to have hypotheses that are incorrect. More important than figuring it out immediately systematically making progress. This type of progress will also feel good.</p><p>By communicating publicly, hopefully others can help you do this process. Or, at least learn the process so that next time they can lead it themselves.</p><h3 id=example>Example</h3><p>Here&rsquo;s an example of what this might look in the Slack thread where someone posted a new bug. Annotations are marked as <code>(...)</code> for clarity:</p><blockquote><p>(bug reported, replies below in a thread)&mldr;</p><p>Ok, I&rsquo;m looking into this bug now.</p><p>Given A1 (information), my hypothesis is B1 is the root cause.</p><p>To test B1 (hypothesis), I&rsquo;ll now do C1 (test #1) to disprove it. I&rsquo;ll report my findings here.</p><p>Ok, we now know it&rsquo;s not B1 (hypothesis), because of A2 (new information / result of C1 test)</p><p>My new hypothesis is B2.</p><p>To test B2 (hypothesis #2), I&rsquo;ll now do C2 (test #2) to disprove it. I&rsquo;ll report my findings here.</p><p>Ok, that was it. Now that I&rsquo;ve done C2, the bug is fixed. I feel confident this is the root cause because of A3 (any new info)</p><p>I&rsquo;ll mark this as closed in XYZ (error reporting tool)</p></blockquote><h2 id=references>References</h2><p>Before getting a lot of practice with this myself, I first heard about a &ldquo;Scientific method for dealing with bugs&rdquo; at a Ruby Meetup talk in San Francisco, June 2018. I wish I knew the speaker&rsquo;s name to give them credit.</p><p>While writing this up I also came across these similar articles:</p><ul><li><a href=http://yellerapp.com/posts/2014-08-11-scientific-debugging.html>How to Fix the Hardest Bug You&rsquo;ve Ever Seen: The Scientific Method</a></li><li><a href=https://www.rithmschool.com/blog/debugging-like-a-scientist>Debugging Like a Scientist</a></li></ul><div class="border-t border-b border-gray text-muted my-8 py-4">Read more posts like this in the
<a href=/software-engineering-toolbox>Software Engineering Toolbox</a> collection.</div></div><div class=my-8><a href=https://briansigafoos.com/ class="text-base inline-block mb-1 py-2 px-6 cursor-pointer font-mono font-bold text-primary border border-solid border-primary bg-bright no-underline">Visit homepage</a></div><div class=my-8><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//briansigafoos.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div class="border-t border-gray py-4 my-16 w-full text-sm text-faint"><div class="container max-w-4xl text-center font-mono"><div class="sm:flex items-center justify-between"><span>Made with
<a href=https://gohugo.io rel=nofollow target=hugo class=underline>Hugo</a> &
        <a href=https://tailwindcss.com rel=nofollow target=tw class=underline>TailwindCSS</a>
Â·
<a href=https://github.com/BrianSigafoos/hugo_site rel=nofollow target=source class=underline>Source code</a></span>
<span class="block sm:inline mt-2 sm:mt-0">By <a href=/about class="text-primary font-black">Brian Sigafoos</a></span></div></div></div></body></html>